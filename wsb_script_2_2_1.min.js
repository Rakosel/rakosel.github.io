var stopAll=!1,ra,rs,subwdeb=!1,lines_in,i,url,maOBJ,seOBJ,bmeOBJ,str_out="",str_out1="",uart_json={},temp_json={},input_lm75={},scrPos=0,ovShBtn0=!1,ast=0,ua_mode=0,tmranim=2E3,T_arr=[],P_arr=[],H_arr=[];T_arr=[0,1,2,4,5,16,17,20,21];H_arr=[3,8,9,18,19,21];P_arr=[6,7,20];var sds,mds,sets;sds=$(".sideset");mds=$(".macnt");sets=$(".setcnt");cnftmp=$(".scntf");function btn_otp_wr(){var a="/otp_mode?input="+encodeURIComponent("Wr345")+"&";fetch(a,"GET",txjstmp,30)}
function btn_sensor_rd(){var a=$("#btnsens_val").val(),g;if(1!=ast)for(g=0;g<a;g++){var c="/otp_mode?input="+encodeURIComponent("GiveMeas")+"&";fetch(c,"GET",txjstmp,50)}}function btn_otp_rd(){var a="/otp_mode?input="+encodeURIComponent("Rd345")+"&";fetch(a,"GET",txjstmp,30)}function refr_rtc(){0==subwdeb&&$("#autmp").prop("checked")&&(fetch("/get_rtc.json?n="+Math.random(),"GET",txjstmp,30),sub_grad())}
function btn_rtc_wr(){var a={rtc_set:[Math.floor(Date.now()/1E3),0,0]};console.log(a);fetch("/set_rtc.json?n="+encodeURIComponent(JSON.stringify(a))+"&","GET",txjstmp,10)}function btn_htu21d_Wr(){var a=$("#htu21d_ht option:selected").val(),g=$("#htu21d_m option:selected").val();$(".btns_htu21d").removeClass("badge-success");$(".btns_htu21d").removeClass("badge-danger");fetch("/input_htu21d.json?n="+encodeURIComponent(JSON.stringify({htu21d_conf:[g,a]}))+"&","GET",txjstmp,10)}
function btn_htu21d_Rd(){$(".btns_htu21d").removeClass("badge-success");$(".btns_htu21d").removeClass("badge-danger");fetch("/output_htu21d.json?n="+Math.random(),"GET",txjstmp,10)}
function btn_sht30_1_Wr(){var a=$("#sht30_ht option:selected").val(),g=$("#sht30_m option:selected").val(),c=$("#sht30_scr option:selected").val(),f=$("#sht30_rep option:selected").val(),b=$("#sht30_mps_sel option:selected").val();$(".btns_sht30").removeClass("badge-success");$(".btns_sht30").removeClass("badge-danger");input_sht30={sht30_conf:[a,g,c,f,b]};fetch("/input_sht30_1.json?n="+encodeURIComponent(JSON.stringify(input_sht30))+"&","GET",txjstmp,10)}
function btn_sht30_2_Wr(){var a=$("#sht31_ht option:selected").val(),g=$("#sht31_m option:selected").val(),c=$("#sht31_scr option:selected").val(),f=$("#sht31_rep option:selected").val(),b=$("#sht31_mps_sel option:selected").val();$(".btns_sht31").removeClass("badge-success");$(".btns_sht31").removeClass("badge-danger");input_sht31={sht31_conf:[a,g,c,f,b]};fetch("/input_sht30_2.json?n="+encodeURIComponent(JSON.stringify(input_sht31))+"&","GET",txjstmp,10)}
function btn_sht30_1_Rd(){$(".btns_sht30_1").removeClass("badge-success");$(".btns_sht30_1").removeClass("badge-danger");fetch("/output_sht30_1.json?n="+Math.random(),"GET",txjstmp,10)}function btn_sht30_2_Rd(){$(".btns_sht31").removeClass("badge-success");$(".btns_sht31").removeClass("badge-danger");fetch("/output_sht30_2.json?n="+Math.random(),"GET",txjstmp,10)}
function btn_bm280_1_Wr(){var a=$("#bm1s_m option:selected").val(),g=$("#bm1s_osrs option:selected").val(),c=$("#bm1s_f option:selected").val(),f=$("#bm1_t_st option:selected").val(),b=$("#bm_alt").val();$(".btns_bme280_1").removeClass("badge-success");$(".btns_bme280_1").removeClass("badge-danger");0==$.isNumeric(b)?$(".btns_bme280_1").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 (\u0441\u043c\u043e\u0442\u0440\u0438 \u0432\u044b\u0448\u0435)"):(input_bme280={bme280_conf:[a,
g,c,f,b]},fetch("/input_bme280_1.json?n="+encodeURIComponent(JSON.stringify(input_bme280))+"&","GET",txjstmp,10))}
function btn_bm280_2_Wr(){var a=$("#bm2s_m option:selected").val(),g=$("#bm2s_osrs option:selected").val(),c=$("#bm2s_f option:selected").val(),f=$("#bm2_t_st option:selected").val(),b=$("#bm_alt").val();$(".btns_bme280_2").removeClass("badge-success");$(".btns_bme280_2").removeClass("badge-danger");0==$.isNumeric(b)?$(".btns_bme280_2").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 (\u0441\u043c\u043e\u0442\u0440\u0438 \u0432\u044b\u0448\u0435)"):(input_bme280={bme280_conf:[a,
g,c,f,b]},fetch("/input_bme280_2.json?n="+encodeURIComponent(JSON.stringify(input_bme280))+"&","GET",txjstmp,10))}function btn_bm280_1_Rd(){$(".btns_bme280_1").removeClass("badge-success");$(".btns_bme280_1").removeClass("badge-danger");fetch("/output_bme280_1.json?n="+Math.random(),"GET",txjstmp,10)}function btn_bm280_2_Rd(){$(".btns_bme280_2").removeClass("badge-success");$(".btns_bme280_2").removeClass("badge-danger");fetch("/output_bme280_2.json?n="+Math.random(),"GET",txjstmp,10)}
function txjstmp(a,g){var c=$(".pst1"),f=$(".pst0"),b=0,d=0,k=0,n=1,p=1,q=1;if(200!=a)return f.removeClass("badge-success"),f.addClass("badge-danger"),f.text("\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438"),c.removeClass("badge-success"),c.addClass("badge-danger"),c.text("\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438"),$(".swdeb").removeAttr("disabled"),ftmpd(),console.log("Connection proplem!"),0;f.removeClass("badge-danger");c.removeClass("badge-danger");f.addClass("badge-success");c.addClass("badge-success");
f.text("\u041e\u041a ");c.text("\u041e\u041a ");if("string"===typeof g)try{temp_json=JSON.parse(g),console.log(a,temp_json)}catch(m){return ftvall(""),console.log(a,m.message),0}else return console.log("d not string"),ftvall(""),0;if(temp_json.LM75_CMP)try{var e=parseInt(temp_json.LM75_CMP[0].trim(),10),h=parseInt(temp_json.LM75_CMP[1].trim(),10);1==e?$("#lm75_t1_chk").prop("checked",!0):$("#lm75_t1_chk").prop("checked",!1);1==h?$("#lm75_t2_chk").prop("checked",!0):$("#lm75_t2_chk").prop("checked",
!1)}catch(m){console.log(m)}temp_json.lm_75_1_cb&&("OK"==temp_json.lm_75_1_cb?$(".btns_lm75_1").addClass("badge-success").text("\u041e\u041a "):$(".btns_lm75_1").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 "));if(temp_json.lm75_1_ou)if(999!=parseInt(temp_json.lm75_1_ou[1].trim(),10)||999!=parseInt(temp_json.lm75_1_ou[0].trim(),10)){e=parseInt(temp_json.lm75_1_ou[1].trim(),10);h=parseInt(temp_json.lm75_1_ou[2].trim(),10);$(".lm75thy_1").text(e+" \u00b0C");$(".lm75tos_1").text(h+
" \u00b0C");$("#lm75sc_1").val(e);$("#lm75so_1").val(h);f=parseInt(temp_json.lm75_1_ou[0].trim(),10);if($.isNumeric(f))for(e=0;4>=e;e++)f&1<<e?$("#gLM75ch"+e.toString()).prop("checked",!0):$("#gLM75ch"+e.toString()).prop("checked",!1);$(".btns_lm75_1").addClass("badge-success").text("\u041e\u041a ")}else $(".btns_lm75_1").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 ");if(temp_json.lm75_2_ou)if(999!=parseInt(temp_json.lm75_2_ou[1].trim(),10)||999!=parseInt(temp_json.lm75_2_ou[0].trim(),
10)){e=parseInt(temp_json.lm75_2_ou[1].trim(),10);h=parseInt(temp_json.lm75_2_ou[2].trim(),10);$(".lm75thy_2").text(e+"\u00b0C");$(".lm75tos_2").text(h+"\u00b0C");$("#lm75sc_2").val(e);$("#lm75so_2").val(h);f=parseInt(temp_json.lm75_2_ou[0].trim(),10);if($.isNumeric(f))for(e=0;4>=e;e++)f&1<<e?$("#gLM752ch"+e.toString()).prop("checked",!0):$("#gLM752ch"+e.toString()).prop("checked",!1);$(".btns_lm75_2").addClass("badge-success").text("\u041e\u041a ")}else $(".btns_lm75_2").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 ");
temp_json.lm_75_2_cb&&("OK"==temp_json.lm_75_2_cb?$(".btns_lm75_2").addClass("badge-success").text("\u041e\u041a "):$(".btns_lm75_2").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 "));temp_json.bme280_1_cb&&("OK"==temp_json.bme280_1_cb?$(".btns_bme280_1").addClass("badge-success").text("\u041e\u041a "):$(".btns_bme280_1").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 "));temp_json.bme280_2_cb&&("OK"==temp_json.bme280_2_cb?$(".btns_bme280_2").addClass("badge-success").text("\u041e\u041a "):
$(".btns_bme280_2").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 "));if(temp_json.GiveMeas_cb){console.log(temp_json.GiveMeas_cb);ast=0;if("#ERR"==temp_json.GiveMeas_cb){ast=1;str_out1="";return}if("#OVF"==temp_json.GiveMeas_cb){ast=1;$("#esp_urx").val(str_out1+"#OVF");str_out1="";return}str_out1=$("#esp_urx").val().toString()+temp_json.GiveMeas_cb+"\n";$("#esp_urx").val(str_out1)}temp_json.Wr345_cb&&("OK"==temp_json.Wr345_cb?($(".btns_otp").removeClass("badge-danger"),$(".btns_otp").addClass("badge-success").text("\u041e\u041a ")):
($(".btns_otp").removeClass("badge-success"),$(".btns_otp").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 Wr345")));temp_json.Rd345_cb&&("OK"==temp_json.Rd345_cb?($(".btns_otp").removeClass("badge-danger"),$(".btns_otp").addClass("badge-success").text("\u041e\u041a ")):($(".btns_otp").removeClass("badge-success"),$(".btns_otp").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 Rd345")));temp_json.htu21d_cb&&("OK"==temp_json.htu21d_cb?$(".btns_htu21d").addClass("badge-success").text("\u041e\u041a "):
$(".btns_htu21d").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 "));temp_json.htu21d_conf&&(999!=parseInt(temp_json.htu21d_conf[0],10)?($("#htu21d_st").val("0x"+Number(temp_json.htu21d_conf[0]).toString(16).toUpperCase()),parseInt(temp_json.htu21d_conf[0],10),$("#htu21d_m option").removeProp("selected"),$("#htu21d_ht option").removeProp("selected"),$("#htu21d_m [value="+temp_json.htu21d_conf[0]+"]").prop("selected","selected"),$("#htu21d_ht [value="+temp_json.htu21d_conf[1]+
"]").prop("selected","selected"),$(".btns_htu21d").addClass("badge-success").text("\u041e\u041a ")):$(".btns_htu21d").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 "));temp_json.sht30_1_cb&&("OK"==temp_json.sht30_1_cb?$(".btns_sht30").addClass("badge-success").text("\u041e\u041a "):$(".btns_sht30").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 "));temp_json.sht30_2_cb&&("OK"==temp_json.sht30_2_cb?$(".btns_sht31").addClass("badge-success").text("\u041e\u041a "):
$(".btns_sht31").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 "));temp_json.sht30_1_ou&&(999!=parseInt(temp_json.sht30_1_ou[0],10)?($("#sht30_st").val("0x"+Number(temp_json.sht30_1_ou[0].trim()).toString(16).toUpperCase()),parseInt(temp_json.sht30_1_ou[0].trim(),10),$("#sht30_ht option").removeProp("selected"),$("#sht30_m option").removeProp("selected"),$("#sht30_scr option").removeProp("selected"),$("#sht30_rep option").removeProp("selected"),$("#sht30_mps_sel option").removeProp("selected"),
$("#sht30_ht [value="+temp_json.sht30_1_ou[1]+"]").prop("selected","selected"),$("#sht30_m [value="+temp_json.sht30_1_ou[2]+"]").prop("selected","selected"),$("#sht30_rep [value="+temp_json.sht30_1_ou[3]+"]").prop("selected","selected"),$("#sht30_mps_sel [value="+temp_json.sht30_1_ou[4]+"]").prop("selected","selected"),$("#sht30_scr [value="+temp_json.sht30_1_ou[5]+"]").prop("selected","selected"),$("#sht30_m").click(),$(".btns_sht30").addClass("badge-success").text("\u041e\u041a ")):$(".btns_sht30").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 "));
temp_json.sht30_2_ou&&(999!=parseInt(temp_json.sht30_2_ou[0],10)?($("#sht31_st").val("0x"+Number(temp_json.sht30_2_ou[0]).toString(16).toUpperCase()),parseInt(temp_json.sht30_2_ou[0],10),$("#sht31_ht option").removeProp("selected"),$("#sht31_m option").removeProp("selected"),$("#sht31_scr option").removeProp("selected"),$("#sht31_rep option").removeProp("selected"),$("#sht31_mps_sel option").removeProp("selected"),$("#sht31_ht [value="+temp_json.sht30_2_ou[1]+"]").prop("selected","selected"),$("#sht31_m [value="+
temp_json.sht30_2_ou[2]+"]").prop("selected","selected"),$("#sht31_rep [value="+temp_json.sht30_2_ou[3]+"]").prop("selected","selected"),$("#sht31_mps_sel [value="+temp_json.sht30_2_ou[4]+"]").prop("selected","selected"),$("#sht31_scr [value="+temp_json.sht30_2_ou[5]+"]").prop("selected","selected"),$("#sht31_m").click(),$(".btns_sht31").addClass("badge-success").text("\u041e\u041a ")):$(".btns_sht31").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 "));if(temp_json.bme280_1_ou)if(999!=
parseInt(temp_json.bme280_1_ou[1],10)||999!=parseInt(temp_json.bme280_1_ou[0].trim(),10)){$("#bm1_ch").val("0x"+Number(temp_json.bme280_1_ou[0].trim()).toString(16).toUpperCase());var l=parseInt(temp_json.bme280_1_ou[1],10);$("#bm1_st").val("0x"+Number(temp_json.bme280_1_ou[1].trim()).toString(16).toUpperCase());$.isNumeric(l)&&(l&1?$("#gBM2801ch0").prop("checked",!0):$("#gBM2801ch0").prop("checked",!1),l&8?$("#gBM2801ch3").prop("checked",!0):$("#gBM2801ch3").prop("checked",!1),$("#bm1s_m option").removeProp("selected"),
$("#bm1s_osrs option").removeProp("selected"),$("#bm1s_f option").removeProp("selected"),$("#bm1_t_st option").removeProp("selected"),$("#bm1s_m [value="+temp_json.bme280_1_ou[2]+"]").prop("selected","selected"),$("#bm1s_osrs [value="+temp_json.bme280_1_ou[3]+"]").prop("selected","selected"),$("#bm1s_f [value="+temp_json.bme280_1_ou[4]+"]").prop("selected","selected"),$("#bm1_t_st [value="+temp_json.bme280_1_ou[5]+"]").prop("selected","selected"),$(".btns_bme280_1").addClass("badge-success").text("\u041e\u041a "))}else $("#bm1_ch").val("\u041e\u0448\u0438\u0431\u043a\u0430"),
$("#bm1_st").val("\u041e\u0448\u0438\u0431\u043a\u0430"),$(".btns_bme280_1").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 ");temp_json.bme280_2_ou&&(999!=parseInt(temp_json.bme280_2_ou[1],10)||999!=parseInt(temp_json.bme280_2_ou[0].trim(),10)?($("#bm2_ch").val("0x"+Number(temp_json.bme280_2_ou[0]).toString(16).toUpperCase().trim()),f=parseInt(temp_json.bme280_2_ou[1],10),$("#bm2_st").val("0x"+Number(temp_json.bme280_2_ou[1]).toString(16).toUpperCase().trim()),$.isNumeric(f)&&
(f&1?($("#gBM2802ch0").prop("checked",!0),console.log("#gBM2802ch0 true "+f)):($("#gBM2802ch0").prop("checked",!1),console.log("#gBM2802ch0 false "+f)),l&8?$("#gBM2802ch3").prop("checked",!0):$("#gBM2802ch3").prop("checked",!1),$("#bm2s_m option").removeProp("selected"),$("#bm2s_osrs option").removeProp("selected"),$("#bm2s_f option").removeProp("selected"),$("#bm2_t_st option").removeProp("selected"),$("#bm2s_m [value="+temp_json.bme280_2_ou[2]+"]").prop("selected","selected"),$("#bm2s_osrs [value="+
temp_json.bme280_2_ou[3]+"]").prop("selected","selected"),$("#bm2s_f [value="+temp_json.bme280_2_ou[4]+"]").prop("selected","selected"),$("#bm2_t_st [value="+temp_json.bme280_2_ou[5]+"]").prop("selected","selected"),$(".btns_bme280_2").addClass("badge-success").text("\u041e\u041a "))):($("#bm2_ch").val("\u041e\u0448\u0438\u0431\u043a\u0430"),$("#bm2_st").val("\u041e\u0448\u0438\u0431\u043a\u0430"),$(".btns_bme280_2").addClass("badge-danger").text("\u041e\u0448\u0438\u0431\u043a\u0430 ")));j1<=T_arr.length&&
(b+=temp_json.temp[0],n++,j1++);j2<=H_arr.length&&(d+=temp_json.temp[0],p++,j2++);j3<=P_arr.length&&(k+=temp_json.temp[0],q++,j3++);if(temp_json.temp){for(e=3;e<=maOBJ.length&&e-3<=temp_json.temp.length;e++)"#ERR"==temp_json.temp[e-3]||""==temp_json.temp[e-3]||temp_json.temp[e-3]==isNaN()?tmpvloff(e):tmpvlon(e),$("#"+maOBJ[e].name).val(temp_json.temp[e-3]);for(e=3;e<=maOBJ.length&&e-3<=temp_json.temp.length;e++)if("#ERR"!=temp_json.temp[e-3]||""!=temp_json.temp[e-3]||temp_json.temp[e-3]!=isNaN())j1<=
T_arr.length&&(b+=temp_json.temp[0],n++,jT++),j2<=H_arr.length&&(d+=temp_json.temp[0],p++,jT++),j3<=P_arr.length&&(k+=temp_json.temp[0],q++,jT++);$("#temperature").val(b/jT);$("#humudity").val(d/jH);$("#pressure").val(k/jP)}$("#tm_adc").removeClass("is-invalid").html();$("#tm_adc").removeClass("is-valid").html();temp_json.temt_adc&&($("#tm_adc").val(temp_json.temt_adc),""==temp_json.temt_adc||temp_json.temt_adc==isNaN()?$("#tm_adc").addClass("is-invalid").html():$("#tm_adc").addClass("is-valid").html());
d=parseFloat($("#htu21_t").val());b=parseFloat($("#htu21_h").val());k=1.359*Math.pow(10,8)*Math.pow(10,-1762.39/(d+235.66));d=(133.32*k/1E3).toString();$("#htu21_pp").val(d.substring(0,5));b=(-(1762.39/(Math.log(.01*b*k)-8.1332)+235.66)).toString();$("#htu21_dew").val(b.substring(0,5));if("NaN"==d||"NaN"==b||""==d||""==b)$("#htu21_dew").removeClass("is-invalid").html(),$("#htu21_dew").removeClass("is-valid").html(),$("#htu21_dew").addClass("is-invalid").html(),$("#htu21_pp").removeClass("is-invalid").html(),
$("#htu21_pp").removeClass("is-valid").html(),$("#htu21_pp").addClass("is-invalid").html();$("#htu21_dew").removeClass("is-invalid").html();$("#htu21_dew").removeClass("is-valid").html();$("#htu21_dew").addClass("is-valid").html();$("#htu21_pp").removeClass("is-invalid").html();$("#htu21_pp").removeClass("is-valid").html();$("#htu21_pp").addClass("is-valid").html();temp_json.debug&&(console.log(temp_json.debug),"ON"==temp_json.debug?(sdmc_sh(),c.removeClass("badge-warning"),c.addClass("badge-success"),
c.text("\u0412\u041a\u041b")):"OFF"==temp_json.debug?(sdmc_rm(),c.removeClass("badge-success"),c.addClass("badge-warning"),c.text("\u0412\u042b\u041a\u041b")):(c.removeClass("badge-success"),c.addClass("badge-danger"),c.text("\u041d\u0415\u0422 \u0421\u0412\u042f\u0417\u0418")),$(".swdeb").removeAttr("disabled"));if(temp_json.rtc_get){e=0;for(e in temp_json.rtc_get)str_out+=temp_json.rtc_get[e]+"-";$(".ptime").text(str_out.substring(0,str_out.length-1))}str_out=""}
function tmpvlon(a){$("#"+maOBJ[a].name).removeClass("is-invalid").html();$("#"+maOBJ[a].name).removeClass("is-valid").html();$("#"+maOBJ[a].name).addClass("is-valid").html()}function tmpvloff(a){$("#"+maOBJ[a].name).removeClass("is-invalid").html();$("#"+maOBJ[a].name).removeClass("is-valid").html();$("#"+maOBJ[a].name).addClass("is-invalid").html()}
function sdmc_sh(){mds.removeClass("collapse show");mds.addClass("collapse hide");sds.removeClass("collapse hide");sds.addClass("collapse show");sets.removeClass("collapse hide");sets.addClass("collapse show")}function sdmc_rm(){mds.removeClass("collapse hide");mds.addClass("collapse show");sds.removeClass("collapse show");sds.addClass("collapse hide");sets.removeClass("collapse show");sets.addClass("collapse hide")}
function ftvall(a){for(i=0;i<maOBJ.length;i++)$("#"+maOBJ[i].name).val(a),$("#"+maOBJ[i].name).removeClass("is-invalid").html(),$("#"+maOBJ[i].name).removeClass("is-valid").html()}function ftmpd(){for(i=0;i<maOBJ.length;i++)$("#"+maOBJ[i].name).removeClass("is-invalid").html(),$("#"+maOBJ[i].name).removeClass("is-valid").html()}function spt0(){return $("#esp_tx").val().replace(/^[\n]+$/g,"").split(/[\n]+/)}function smgh(){device.mobile()||$(".bt0st").click()}$(".bt0st1").click(function(){$(".bt0st").click()});
function erxclr_uart(){$("#esp_tx").val("")}function etxclr_uart(){$("#esp_urx").val("");str_out1=""}$(".bt0st").click(function(){ast=$(".bt0st").attr("value");device.mobile()?"on"!=ast?($(".bt0st").attr("value","on"),rm_b(),rms_b(),shs_b()):($(".bt0st").attr("value","off"),rm_b(),rms_b(),sh_b()):"on"!=ast?($(".bt0st").attr("value","on"),rm_b(),sh_b()):($(".bt0st").attr("value","off"),rm_b())});
function rm_b(){$(".mc1").removeClass("col-md-8 col-xl-8").html();$(".bsn0").removeClass("col-md-4 col-xl-4").html();$(".mc1").removeClass("noscroll collapse hide");$(".mc1").addClass("col-12").html()}function sh_b(){$(".mc1").remove("col-12").html();$(".mc1").addClass("col-md-8 col-xl-8").html();$(".bsn0").addClass("col-md-4 col-xl-4").html()}function rms_b(){$(".bsn0").removeClass("col-12 overlay").html();$(".mc1").removeClass("noscroll collapse hide")}
function shs_b(){$(".bsn0").addClass("col-12 overlay").html();$(".mc1").addClass("noscroll collapse hide").html()}
$(".swdeb").click(function(){1==this.checked?($(".swdebl").text("\u0412\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0440\u0435\u0436\u0438\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),this.setAttribute("disabled","true"),sdeb("ON"),subwdeb=!0):($(".swdebl").text("\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0440\u0435\u0436\u0438\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),this.setAttribute("disabled","false"),sdeb("OFF"),subwdeb=!1)});
function sdeb(a){a="/debug_mode?input="+encodeURIComponent(a)+"&";fetch(a,"GET",txjstmp,10)}function clbtn0(){ast=$(".bt0st").attr("value");device.mobile()&&("on"!=ast?(shs_b(),sh_b()):(rms_b(),rm_b()),$(".bt0st").click())}$(window).resize(function(){clresf()});function clresf(){ast=$(".bt0st").attr("value");device.mobile()?"on"==ast?(rms_b(),shs_b()):rms_b():"on"==ast?(rm_b(),sh_b()):rm_b()}
function fetch(a,g,c,f){console.log(a);var b=new XMLHttpRequest;b.onloadend=function(){c(b.status,b.responseText)};b.ontimeout=function(){c(-1,null)};b.open(g,a,!0);b.setRequestHeader("Accept","application/json");b.timeout=200*f;b.send()}function btn_lm75_1s(){$(".btns_lm75_1").removeClass("badge-danger");$(".btns_lm75_1").removeClass("badge-success");fetch("/output_lm75_1.json?n="+Math.random(),"GET",txjstmp,10)}
function btn_lm75_2s(){$(".btns_lm75_2").removeClass("badge-danger");$(".btns_lm75_2").removeClass("badge-success");fetch("/output_lm75_2.json?n="+Math.random(),"GET",txjstmp,10)}
function btn_lm75_1(){var a,g=0,c=$("#lm75sc_1"),f=$("#lm75so_1");for(a=0;5>a&&void 0!=$("#gLM75ch"+a).val();++a)$("#gLM75ch"+a).prop("checked")&&(g|=1<<a);var b=c.val();var d=f.val();console.log(b+" "+d);d>b&&0>d&&0>b?(b=d=b,console.log("thyst1>tos1 && (thyst1<0) && (tos1<0)"+b+" "+d)):d>b&&(a=d,d=b,b=a,console.log("thyst1>tos1"+b+" "+d));b==d&&(0>d&&0>b?d--:b++);c.val(d);f.val(b);$(".lm75thy_1").text(c.val()+" C\u00b0");$(".lm75tos_1").text(f.val()+" C\u00b0");d=parseInt(c.val());b=parseInt(f.val());
a={lm75_conf:[g,2*d,2*b]};fetch("/input_lm75_1.json?n="+encodeURIComponent(JSON.stringify(a))+"&","GET",txjstmp,10);console.log(JSON.stringify(a))}
function btn_lm75_2(){var a,g=0,c=$("#lm75sc_2"),f=$("#lm75so_2");for(a=0;5>a&&void 0!=$("#gLM752ch"+a).val();++a)$("#gLM752ch"+a).prop("checked")&&(g|=1<<a);var b=c.val();var d=f.val();console.log(b+" "+d);d>b&&0>d&&0>b?(b=d=b,console.log("thyst1>tos1 && (thyst1<0) && (tos1<0)"+b+" "+d)):d>b&&(a=d,d=b,b=a,console.log("thyst1>tos1"+b+" "+d));b==d&&(0>d&&0>b?d--:b++);c.val(d);f.val(b);$(".lm75thy_2").text(c.val()+" C\u00b0");$(".lm75tos_2").text(f.val()+" C\u00b0");d=parseInt(c.val());b=parseInt(f.val());
a={lm75_conf:[g,2*d,2*b]};fetch("/input_lm75_2.json?n="+encodeURIComponent(JSON.stringify(a))+"&","GET",txjstmp,10);console.log(JSON.stringify(a))}function sub_grad(){maOBJ=$("#tmpo").serializeArray();fetch("/temp_out.json?n="+Math.random(),"GET",txjstmp,10)}
function submit_uart(){$("#btn1").prop("disabled",!0);lines_in=spt0();url="";uart_json.uart_out="null";ua_mode=$("#uart_get_ch").prop("checked")?1:0;for(i=0;i<lines_in.length;i++)uart_json.uart_in=lines_in[i],1==ua_mode?fetch("/uart_get?input="+encodeURIComponent(lines_in[i])+"&","GET",txjs_ua,10):fetch("/uart.json?n="+encodeURIComponent(JSON.stringify(uart_json))+"&","GET",txjs_ua,10)}
function txjs_ua(a,g){seOBJ=$("#scntf").serializeArray();$("#btn1").prop("disabled",!1);if(200!=a)str_out1+="Send command error\n",console.log("Connection proplem!");else{if("string"===typeof g){console.log("priem ok!");try{uart_json=JSON.parse(g)}catch(f){return console.log(f),0}}else uart_json.uart_out="null",uart_json.uart_in="null";console.log(uart_json);str_out1=""==uart_json.uart_out?str_out1+"ACK\n":str_out1+(uart_json.uart_out+"\n")}var c=$("#esp_urx");""!=c.val()?c.val(c.val()+str_out1):
c.val(str_out1);console.log(str_out1);str_out1=""}window.onload=function(){$(".bt0st").attr("value","off");$(".navia").addClass("list-group-item list-group-item-action bg-light border");$("#esp_tx").val("wsbuser.prints(node.heap());");$("#esp_urx").val("");rs=setInterval(refr_rtc,3E3);i=0;smgh()};
