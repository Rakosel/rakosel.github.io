var ra,rs,lines_in,i,url,maOBJ,seOBJ,bmeOBJ,sds,mds,sets,stopAll=!1,subwdeb=!1,str_out="",str_out1="",uart_json={},temp_json={},input_lm75={},scrPos=0,ovShBtn0=!1,ast=0,ua_mode=0,tmranim=3000;sds=$(".sideset");mds=$(".macnt");sets=$(".setcnt");cnftmp=$(".scntf");function btn_otp_wr(){var b="/otp_mode?input="+encodeURIComponent("Wr345")+"&";fetch(b,"GET",txjstmp,30)}
function btn_sensor_rd(){var b,f=$("#btnsens_val").val(),c=0;if(1!=ast)for(c=0;c<f;c++)b="/otp_mode?input="+encodeURIComponent("GiveMeas")+"&",fetch(b,"GET",txjstmp,50)}function btn_otp_rd(){var b="/otp_mode?input="+encodeURIComponent("Rd345")+"&";fetch(b,"GET",txjstmp,30)}function refr_rtc(){0==subwdeb&&$("#autmp").prop("checked")&&(fetch("/get_rtc.json?n="+Math.random(),"GET",txjstmp,20),sub_grad())}
function btn_rtc_wr(){var b={rtc_set:[Math.floor(Date.now()/1E3),0,0]};fetch("/set_rtc.json?n="+encodeURIComponent(JSON.stringify(b))+"&","GET",txjstmp,10)}function btn_htu21d_Wr(){var b=$("#htu21d_ht option:selected").val(),f=$("#htu21d_m option:selected").val();$(".btns_htu21d").removeClass("badge-success");$(".btns_htu21d").removeClass("badge-danger");fetch("/input_htu21d.json?n="+encodeURIComponent(JSON.stringify({htu21d_conf:[f,b]}))+"&","GET",txjstmp,10)}
function btn_htu21d_Rd(){$(".btns_htu21d").removeClass("badge-success");$(".btns_htu21d").removeClass("badge-danger");fetch("/output_htu21d.json?n="+Math.random(),"GET",txjstmp,10)}
function btn_sht30_1_Wr(){var b=$("#sht30_ht option:selected").val(),f=$("#sht30_m option:selected").val(),c=$("#sht30_scr option:selected").val(),a=$("#sht30_rep option:selected").val(),e=$("#sht30_mps_sel option:selected").val();$(".btns_sht30").removeClass("badge-success");$(".btns_sht30").removeClass("badge-danger");input_sht30={sht30_conf:[b,f,c,a,e]};fetch("/input_sht30_1.json?n="+encodeURIComponent(JSON.stringify(input_sht30))+"&","GET",txjstmp,10)}
function btn_sht30_2_Wr(){var b=$("#sht31_ht option:selected").val(),f=$("#sht31_m option:selected").val(),c=$("#sht31_scr option:selected").val(),a=$("#sht31_rep option:selected").val(),e=$("#sht31_mps_sel option:selected").val();$(".btns_sht31").removeClass("badge-success");$(".btns_sht31").removeClass("badge-danger");input_sht31={sht31_conf:[b,f,c,a,e]};fetch("/input_sht30_2.json?n="+encodeURIComponent(JSON.stringify(input_sht31))+"&","GET",txjstmp,10)}
function btn_sht30_1_Rd(){$(".btns_sht30_1").removeClass("badge-success");$(".btns_sht30_1").removeClass("badge-danger");fetch("/output_sht30_1.json?n="+Math.random(),"GET",txjstmp,10)}function btn_sht30_2_Rd(){$(".btns_sht31").removeClass("badge-success");$(".btns_sht31").removeClass("badge-danger");fetch("/output_sht30_2.json?n="+Math.random(),"GET",txjstmp,10)}
function btn_bm280_1_Wr(){var b=$("#bm1s_m option:selected").val(),f=$("#bm1s_osrs option:selected").val(),c=$("#bm1s_f option:selected").val(),a=$("#bm1_t_st option:selected").val(),e=$("#bm_alt").val();return $(".btns_bme280_1").removeClass("badge-success"),$(".btns_bme280_1").removeClass("badge-danger"),0==$.isNumeric(e)?void $(".btns_bme280_1").addClass("badge-danger").text("Ошибка (смотри выше)"):void(input_bme280={bme280_conf:[b,f,c,a,e]},fetch("/input_bme280_1.json?n="+encodeURIComponent(JSON.stringify(input_bme280))+"&","GET",txjstmp,10))}
function btn_bm280_2_Wr(){var b=$("#bm2s_m option:selected").val(),f=$("#bm2s_osrs option:selected").val(),c=$("#bm2s_f option:selected").val(),a=$("#bm2_t_st option:selected").val(),e=$("#bm_alt").val();return $(".btns_bme280_2").removeClass("badge-success"),$(".btns_bme280_2").removeClass("badge-danger"),0==$.isNumeric(e)?void $(".btns_bme280_2").addClass("badge-danger").text("Ошибка (смотри выше)"):void(input_bme280={bme280_conf:[b,f,c,a,e]},fetch("/input_bme280_2.json?n="+encodeURIComponent(JSON.stringify(input_bme280))+"&","GET",txjstmp,10))}function btn_bm280_1_Rd(){$(".btns_bme280_1").removeClass("badge-success");$(".btns_bme280_1").removeClass("badge-danger");fetch("/output_bme280_1.json?n="+Math.random(),"GET",txjstmp,10)}function btn_bm280_2_Rd(){$(".btns_bme280_2").removeClass("badge-success");$(".btns_bme280_2").removeClass("badge-danger");fetch("/output_bme280_2.json?n="+Math.random(),"GET",txjstmp,10)}
function txjstmp(b,f){var c=$(".pst1"),a=$(".pst0");if(200!=b)return a.removeClass("badge-success"),a.addClass("badge-danger"),a.text("Нет связи"),c.removeClass("badge-success"),c.addClass("badge-danger"),c.text("Нет связи"),$(".swdeb").removeAttr("disabled"),ftmpd(),0;if(c.removeClass("badge-danger"),a.removeClass("badge-danger"),a.addClass("badge-success"),a.text("ОК "),"string"==typeof f)try{temp_json=JSON.parse(f)}catch(e){return ftvall(""),0}else return ftvall(""),0;if(temp_json.LM75_CMP){var a=parseInt(temp_json.LM75_CMP[0],10),d=parseInt(temp_json.LM75_CMP[1],10);1==a?$("#lm75_t1_chk").prop("checked",!0):$("#lm75_t1_chk").prop("checked",!1);1==d?$("#lm75_t2_chk").prop("checked",!0):$("#lm75_t2_chk").prop("checked",!1)}if(temp_json.lm_75_1_cb&&("OK"==temp_json.lm_75_1_cb?$(".btns_lm75_1").addClass("badge-success").text("ОК "):$(".btns_lm75_1").addClass("badge-danger").text("Ошибка ")),temp_json.lm75_1_ou)if(999!=parseInt(temp_json.lm75_1_ou[1],10)||999!=parseInt(temp_json.lm75_1_ou[0],10)){a=parseInt(temp_json.lm75_1_ou[1],10);d=parseInt(temp_json.lm75_1_ou[2],10);$(".lm75thy_1").text(a+" °C");$(".lm75tos_1").text(d+" °C");$("#lm75sc_1").val(a);$("#lm75so_1").val(d);a=parseInt(temp_json.lm75_1_ou[0],10);d=0;if($.isNumeric(a))for(d=0;4>=d;d++)a&1<<d?$("#gLM75ch"+d.toString()).prop("checked",!0):$("#gLM75ch"+d.toString()).prop("checked",!1);$(".btns_lm75_1").addClass("badge-success").text("ОК ")}else $(".btns_lm75_1").addClass("badge-danger").text("Ошибка ");if(temp_json.lm75_2_ou)if(999!=parseInt(temp_json.lm75_2_ou[1],10)||999!=parseInt(temp_json.lm75_2_ou[0],10)){a=parseInt(temp_json.lm75_2_ou[1],10);d=parseInt(temp_json.lm75_2_ou[2],10);$(".lm75thy_2").text(a+"°C");$(".lm75tos_2").text(d+"°C");$("#lm75sc_2").val(a);$("#lm75so_2").val(d);a=parseInt(temp_json.lm75_2_ou[0],10);if($.isNumeric(a))for(d=0;4>=d;d++)a&1<<d?$("#gLM752ch"+d.toString()).prop("checked",!0):$("#gLM752ch"+d.toString()).prop("checked",!1);$(".btns_lm75_2").addClass("badge-success").text("ОК ")}else $(".btns_lm75_2").addClass("badge-danger").text("Ошибка ");if(temp_json.lm_75_2_cb&&("OK"==temp_json.lm_75_2_cb?$(".btns_lm75_2").addClass("badge-success").text("ОК "):$(".btns_lm75_2").addClass("badge-danger").text("Ошибка ")),temp_json.bme280_1_cb&&("OK"==temp_json.bme280_1_cb?$(".btns_bme280_1").addClass("badge-success").text("ОК "):$(".btns_bme280_1").addClass("badge-danger").text("Ошибка ")),temp_json.bme280_2_cb&&("OK"==temp_json.bme280_2_cb?$(".btns_bme280_2").addClass("badge-success").text("ОК "):$(".btns_bme280_2").addClass("badge-danger").text("Ошибка ")),temp_json.GiveMeas_cb){if(ast=0,"#ERR"==temp_json.GiveMeas_cb)return ast=1,void(str_out1="");if("#OVF"==temp_json.GiveMeas_cb)return ast=1,$("#esp_urx").val(str_out1+"#OVF"),void(str_out1="");str_out1=$("#esp_urx").val().toString()+temp_json.GiveMeas_cb+"\n";$("#esp_urx").val(str_out1)}if(temp_json.Wr345_cb&&("OK"==temp_json.Wr345_cb?($(".btns_otp").removeClass("badge-danger"),$(".btns_otp").addClass("badge-success").text("ОК ")):($(".btns_otp").removeClass("badge-success"),$(".btns_otp").addClass("badge-danger").text("Ошибка Wr345"))),temp_json.Rd345_cb&&("OK"==temp_json.Rd345_cb?($(".btns_otp").removeClass("badge-danger"),$(".btns_otp").addClass("badge-success").text("ОК ")):($(".btns_otp").removeClass("badge-success"),$(".btns_otp").addClass("badge-danger").text("Ошибка Rd345"))),temp_json.htu21d_cb&&("OK"==temp_json.htu21d_cb?$(".btns_htu21d").addClass("badge-success").text("ОК "):$(".btns_htu21d").addClass("badge-danger").text("Ошибка ")),temp_json.htu21d_conf)999!=parseInt(temp_json.htu21d_conf[0],10)?($("#htu21d_st").val("0x"+
(+temp_json.htu21d_conf[0]).toString(16).toUpperCase()),parseInt(temp_json.htu21d_conf[0],10),$("#htu21d_m option").removeProp("selected"),$("#htu21d_ht option").removeProp("selected"),$("#htu21d_m [value="+temp_json.htu21d_conf[0]+"]").prop("selected","selected"),$("#htu21d_ht [value="+temp_json.htu21d_conf[1]+"]").prop("selected","selected"),$(".btns_htu21d").addClass("badge-success").text("ОК ")):$(".btns_htu21d").addClass("badge-danger").text("Ошибка ");if(temp_json.sht30_1_cb&&("OK"==temp_json.sht30_1_cb?$(".btns_sht30").addClass("badge-success").text("ОК "):$(".btns_sht30").addClass("badge-danger").text("Ошибка ")),temp_json.sht30_2_cb&&("OK"==temp_json.sht30_2_cb?$(".btns_sht31").addClass("badge-success").text("ОК "):$(".btns_sht31").addClass("badge-danger").text("Ошибка ")),temp_json.sht30_1_ou)999!=parseInt(temp_json.sht30_1_ou[0],10)?($("#sht30_st").val("0x"+(+temp_json.sht30_1_ou[0]).toString(16).toUpperCase()),parseInt(temp_json.sht30_1_ou[0],10),$("#sht30_ht option").removeProp("selected"),$("#sht30_m option").removeProp("selected"),$("#sht30_scr option").removeProp("selected"),$("#sht30_rep option").removeProp("selected"),$("#sht30_mps_sel option").removeProp("selected"),$("#sht30_ht [value="+temp_json.sht30_1_ou[1]+"]").prop("selected","selected"),$("#sht30_m [value="+temp_json.sht30_1_ou[2]+"]").prop("selected","selected"),$("#sht30_rep [value="+temp_json.sht30_1_ou[3]+"]").prop("selected","selected"),$("#sht30_mps_sel [value="+temp_json.sht30_1_ou[4]+"]").prop("selected","selected"),$("#sht30_scr [value="+temp_json.sht30_1_ou[5]+"]").prop("selected","selected"),$("#sht30_m").click(),$(".btns_sht30").addClass("badge-success").text("ОК ")):$(".btns_sht30").addClass("badge-danger").text("Ошибка ");temp_json.sht30_2_ou&&(999!=parseInt(temp_json.sht30_2_ou[0],10)?($("#sht31_st").val("0x"+(+temp_json.sht30_2_ou[0]).toString(16).toUpperCase()),parseInt(temp_json.sht30_2_ou[0],10),$("#sht31_ht option").removeProp("selected"),$("#sht31_m option").removeProp("selected"),$("#sht31_scr option").removeProp("selected"),$("#sht31_rep option").removeProp("selected"),$("#sht31_mps_sel option").removeProp("selected"),$("#sht31_ht [value="+temp_json.sht30_2_ou[1]+"]").prop("selected","selected"),$("#sht31_m [value="+temp_json.sht30_2_ou[2]+"]").prop("selected","selected"),$("#sht31_rep [value="+temp_json.sht30_2_ou[3]+"]").prop("selected","selected"),$("#sht31_mps_sel [value="+temp_json.sht30_2_ou[4]+"]").prop("selected","selected"),$("#sht31_scr [value="+temp_json.sht30_2_ou[5]+"]").prop("selected","selected"),$("#sht31_m").click(),$(".btns_sht31").addClass("badge-success").text("ОК ")):$(".btns_sht31").addClass("badge-danger").text("Ошибка "));if(temp_json.bme280_1_ou)if(999!=parseInt(temp_json.bme280_1_ou[1],10)||999!=parseInt(temp_json.bme280_1_ou[0],10)){$("#bm1_ch").val("0x"+(+temp_json.bme280_1_ou[0]).toString(16).toUpperCase());var g=parseInt(temp_json.bme280_1_ou[1],10);$("#bm1_st").val("0x"+(+temp_json.bme280_1_ou[1]).toString(16).toUpperCase());$.isNumeric(g)&&(1&g?$("#gBM2801ch0").prop("checked",!0):$("#gBM2801ch0").prop("checked",!1),8&g?$("#gBM2801ch3").prop("checked",!0):$("#gBM2801ch3").prop("checked",!1),$("#bm1s_m option").removeProp("selected"),$("#bm1s_osrs option").removeProp("selected"),$("#bm1s_f option").removeProp("selected"),$("#bm1_t_st option").removeProp("selected"),$("#bm1s_m [value="+temp_json.bme280_1_ou[2]+"]").prop("selected","selected"),$("#bm1s_osrs [value="+temp_json.bme280_1_ou[3]+"]").prop("selected","selected"),$("#bm1s_f [value="+temp_json.bme280_1_ou[4]+"]").prop("selected","selected"),$("#bm1_t_st [value="+
temp_json.bme280_1_ou[5]+"]").prop("selected","selected"),$(".btns_bme280_1").addClass("badge-success").text("ОК "))}else $("#bm1_ch").val("Ошибка"),$("#bm1_st").val("Ошибка"),$(".btns_bme280_1").addClass("badge-danger").text("Ошибка ");temp_json.bme280_2_ou&&(999!=parseInt(temp_json.bme280_2_ou[1],10)||999!=parseInt(temp_json.bme280_2_ou[0],10)?($("#bm2_ch").val("0x"+(+temp_json.bme280_2_ou[0]).toString(16).toUpperCase()),a=parseInt(temp_json.bme280_2_ou[1],10),$("#bm2_st").val("0x"+(+temp_json.bme280_2_ou[1]).toString(16).toUpperCase()),$.isNumeric(a)&&(1&a?$("#gBM2802ch0").prop("checked",!0):$("#gBM2802ch0").prop("checked",!1),8&g?$("#gBM2802ch3").prop("checked",!0):$("#gBM2802ch3").prop("checked",!1),$("#bm2s_m option").removeProp("selected"),$("#bm2s_osrs option").removeProp("selected"),$("#bm2s_f option").removeProp("selected"),$("#bm2_t_st option").removeProp("selected"),$("#bm2s_m [value="+temp_json.bme280_2_ou[2]+"]").prop("selected","selected"),$("#bm2s_osrs [value="+temp_json.bme280_2_ou[3]+"]").prop("selected","selected"),$("#bm2s_f [value="+temp_json.bme280_2_ou[4]+"]").prop("selected","selected"),$("#bm2_t_st [value="+temp_json.bme280_2_ou[5]+"]").prop("selected","selected"),$(".btns_bme280_2").addClass("badge-success").text("ОК "))):($("#bm2_ch").val("Ошибка"),$("#bm2_st").val("Ошибка"),$(".btns_bme280_2").addClass("badge-danger").text("Ошибка ")));if(temp_json.temp){for(d=3;d<maOBJ.length;d++)try{"#ERR"==temp_json.temp[d-3]||""==temp_json.temp[d-3]?tmpvlof(d):tmpvlon(d),d-3<=temp_json.temp.length&&$("#"+maOBJ[d].name).val(temp_json.temp[d-
3]),temp_json.temt_adc&&$("#tm_adc").val(temp_json.temt_adc)}catch(h){tmpvlof(d)}a=parseFloat($("#htu21_t").val());g=parseFloat($("#htu21_h").val());a=1.359*Math.pow(10,8)*Math.pow(10,-1762.39/(a+235.66));d=(133.32*a/1E3).toString();$("#htu21_pp").val(d.substring(0,5));g=(-(1762.39/(Math.log(.01*g*a)-8.1332)+235.66)).toString();$("#htu21_dew").val(g.substring(0,5))}if(temp_json.debug&&("ON"==temp_json.debug?(sdmc_sh(),c.removeClass("badge-warning"),c.addClass("badge-success"),c.text("ВКЛ")):"OFF"==temp_json.debug?(sdmc_rm(),c.removeClass("badge-success"),c.addClass("badge-warning"),c.text("ВЫКЛ")):(c.removeClass("badge-success"),c.addClass("badge-danger"),c.text("НЕТ СВЯЗИ")),$(".swdeb").removeAttr("disabled")),temp_json.rtc_get){for(d in d=0,temp_json.rtc_get)str_out+=temp_json.rtc_get[d]+"-";$(".ptime").text(str_out.substring(0,str_out.length-1))}str_out=""}
function tmpvlon(b){$("#"+maOBJ[b].name).removeClass("is-invalid").html();$("#"+maOBJ[b].name).removeClass("is-valid").html();$("#"+maOBJ[b].name).addClass("is-valid").html()}function tmpvlof(b){$("#"+maOBJ[b].name).removeClass("is-invalid").html();$("#"+maOBJ[b].name).removeClass("is-valid").html();$("#"+maOBJ[b].name).addClass("is-invalid").html()}
function sdmc_sh(){mds.removeClass("collapse show");mds.addClass("collapse hide");sds.removeClass("collapse hide");sds.addClass("collapse show");sets.removeClass("collapse hide");sets.addClass("collapse show")}function sdmc_rm(){mds.removeClass("collapse hide");mds.addClass("collapse show");sds.removeClass("collapse show");sds.addClass("collapse hide");sets.removeClass("collapse show");sets.addClass("collapse hide")}
function ftvall(b){for(i=0;i<maOBJ.length;i++)$("#"+maOBJ[i].name).val(b),$("#"+maOBJ[i].name).removeClass("is-invalid").html(),$("#"+maOBJ[i].name).removeClass("is-valid").html()}function ftmpd(){for(i=0;i<maOBJ.length;i++)$("#"+maOBJ[i].name).removeClass("is-invalid").html(),$("#"+maOBJ[i].name).removeClass("is-valid").html()}function spt0(){return $("#esp_tx").val().replace(/^[\n]+$/g,"").split(/[\n]+/)}function smgh(){device.mobile()||$(".bt0st").click()}$(".bt0st1").click(function(){$(".bt0st").click()});function erxclr_uart(){$("#esp_tx").val("")}function etxclr_uart(){$("#esp_urx").val("");str_out1=""}$(".bt0st").click(function(){ast=$(".bt0st").attr("value");device.mobile()?"on"==ast?($(".bt0st").attr("value","off"),rm_b(),rms_b(),sh_b()):($(".bt0st").attr("value","on"),rm_b(),rms_b(),shs_b()):"on"==ast?($(".bt0st").attr("value","off"),rm_b()):($(".bt0st").attr("value","on"),rm_b(),sh_b())});function rm_b(){$(".mc1").removeClass("col-md-8 col-xl-8").html();$(".bsn0").removeClass("col-md-4 col-xl-4").html();$(".mc1").removeClass("noscroll collapse hide");$(".mc1").addClass("col-12").html()}function sh_b(){$(".mc1").remove("col-12").html();$(".mc1").addClass("col-md-8 col-xl-8").html();$(".bsn0").addClass("col-md-4 col-xl-4").html()}function rms_b(){$(".bsn0").removeClass("col-12 overlay").html();$(".mc1").removeClass("noscroll collapse hide")}
function shs_b(){$(".bsn0").addClass("col-12 overlay").html();$(".mc1").addClass("noscroll collapse hide").html()}$(".swdeb").click(function(){1==this.checked?($(".swdebl").text("Выключить режим настройки"),this.setAttribute("disabled","true"),sdeb("ON"),subwdeb=!0):($(".swdebl").text("Включить режим настройки"),this.setAttribute("disabled","false"),sdeb("OFF"),subwdeb=!1)});function sdeb(b){b="/debug_mode?input="+encodeURIComponent(b)+"&";fetch(b,"GET",txjstmp,10)}
function clbtn0(){ast=$(".bt0st").attr("value");device.mobile()&&("on"==ast?(rms_b(),rm_b()):(shs_b(),sh_b()),$(".bt0st").click())}$(window).resize(function(){clresf()});function clresf(){ast=$(".bt0st").attr("value");device.mobile()?"on"==ast?(rms_b(),shs_b()):rms_b():"on"==ast?(rm_b(),sh_b()):rm_b()}
function fetch(b,f,c,a){var e=new XMLHttpRequest;e.onloadend=function(){c(e.status,e.responseText)};e.ontimeout=function(){c(-1,null)};e.open(f,b,!0);e.setRequestHeader("Accept","application/json");e.timeout=200*a;e.send()}function btn_lm75_1s(){$(".btns_lm75_1").removeClass("badge-danger");$(".btns_lm75_1").removeClass("badge-success");fetch("/output_lm75_1.json?n="+Math.random(),"GET",txjstmp,10)}
function btn_lm75_2s(){$(".btns_lm75_2").removeClass("badge-danger");$(".btns_lm75_2").removeClass("badge-success");fetch("/output_lm75_2.json?n="+Math.random(),"GET",txjstmp,10)}
function btn_lm75_1(){for(var b=0,b={},f=0,c=0,a=0,e=$("#lm75sc_1"),d=$("#lm75so_1"),b=0;5>b&&null!=$("#gLM75ch"+b).val();++b)$("#gLM75ch"+b).prop("checked")&&(f|=1<<b);c=e.val();a=d.val();a>c&&0>a&&0>c?(a=c,c=a):a>c&&(b=a,a=c,c=b);c==a&&(0>a&&0>c?a--:c++);e.val(a);d.val(c);$(".lm75thy_1").text(e.val()+" C°");$(".lm75tos_1").text(d.val()+" C°");a=parseInt(e.val());c=parseInt(d.val());b={lm75_conf:[f,2*a,2*c]};fetch("/input_lm75_1.json?n="+encodeURIComponent(JSON.stringify(b))+"&","GET",txjstmp,10)}
function btn_lm75_2(){for(var b=0,b={},f=0,c=0,a=0,e=$("#lm75sc_2"),d=$("#lm75so_2"),b=0;5>b&&null!=$("#gLM752ch"+b).val();++b)$("#gLM752ch"+b).prop("checked")&&(f|=1<<b);c=e.val();a=d.val();a>c&&0>a&&0>c?(a=c,c=a):a>c&&(b=a,a=c,c=b);c==a&&(0>a&&0>c?a--:c++);e.val(a);d.val(c);$(".lm75thy_2").text(e.val()+" C°");$(".lm75tos_2").text(d.val()+" C°");a=parseInt(e.val());c=parseInt(d.val());b={lm75_conf:[f,2*a,2*c]};fetch("/input_lm75_2.json?n="+encodeURIComponent(JSON.stringify(b))+"&","GET",txjstmp,10)}function sub_grad(){maOBJ=$("#tmpo").serializeArray();fetch("/temp_out.json?n="+Math.random(),"GET",txjstmp,10)}
function submit_uart(){$("#btn1").prop("disabled",!0);lines_in=spt0();url="";uart_json.uart_out="null";ua_mode=$("#uart_get_ch").prop("checked")?1:0;for(i=0;i<lines_in.length;i++)uart_json.uart_in=lines_in[i],1==ua_mode?fetch("/uart_get?input="+encodeURIComponent(lines_in[i])+"&","GET",txjs_ua,10):fetch("/uart.json?n="+encodeURIComponent(JSON.stringify(uart_json))+"&","GET",txjs_ua,10)}
function txjs_ua(b,f){if(seOBJ=$("#scntf").serializeArray(),$("#btn1").prop("disabled",!1),200!=b)str_out1+="Send command error\n";else{if("string"==typeof f)try{uart_json=JSON.parse(f)}catch(c){return 0}else uart_json.uart_out="null",uart_json.uart_in="null";str_out1+=""==uart_json.uart_out?"ACK\n":uart_json.uart_out+"\n"}var a=$("#esp_urx");""==a.val()?a.val(str_out1):a.val(a.val()+str_out1);str_out1=""}
window.onload=function(){$(".bt0st").attr("value","off");$(".navia").addClass("list-group-item list-group-item-action bg-light border");$("#esp_tx").val("wsbuser.prints(node.heap());");$("#esp_urx").val("");rs=setInterval(refr_rtc,2000);i=0;smgh()};
